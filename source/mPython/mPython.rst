mPython 使用说明
====================

软件下载
-----------
mPython编程软件下载地址：https://www.labplus.cn/software

.. image:: /images/mPython_new/mPython_4_1.png
    :width: 500px

软件安装
-----------
双击下载好的程序，开始安装mPython编程软件。
程序默认安装在C:\Program Files (x86)\mPython，点击“安装”
安装完成默认运行mPython，点击“完成”

.. image:: /images/mPython_new/mPython_4_2.png
    :width: 500px
.. image:: /images/mPython_new/mPython_4_3.png
    :width: 500px
.. image:: /images/mPython_new/mPython_4_4.png
    :width: 500px

安装CP210x的驱动，点击“下一步”

.. Hint::

  如果先前安装过则可以忽略，点击“取消”。

.. image:: /images/mPython_new/mPython_4_5.png
    :width: 500px
    
选择我接受这个协议，点击“下一步。”

.. image:: /images/mPython_new/mPython_4_6.png
    :width: 500px

驱动安装成功，点击“完成”。至此mPython安装成功

.. image:: /images/mPython_new/mPython_4_7.png
    :width: 500px

选择预装的功能，默认只安装硬件编程。Python模式和jupyter模式进入软件后也可再次进行安装初始化

.. image:: /images/mPython_new/mPython_4_8.png
    :width: 500px


软件界面展示
-----------

硬件编程
````````

.. image:: /images/mPython_new/mPython_4_9.png
    :width: 500px

Python3.6
````````

.. image:: /images/mPython_new/mPython_4_10.png
    :width: 500px

Jupyter
````````

.. image:: /images/mPython_new/mPython_4_11.png
    :width: 500px


文件菜单栏
-----------

新建文件
````````

点击“文件”菜单栏“新建文件”

.. image:: /images/mPython_new/mPython_4_12.png
    :width: 500px

新建文件将会清除编程区内所有模块，点击“确定”

.. image:: /images/mPython_new/mPython_4_13.png
    :width: 500px


打开本地
````````

点击“文件”菜单栏“打开本地”

.. image:: /images/mPython_new/mPython_4_14.png
    :width: 500px

选择xml结尾或者py结尾的文件，点击“打开”

.. image:: /images/mPython_new/mPython_4_15.png
    :width: 500px

加载对应的图形化代码

.. image:: /images/mPython_new/mPython_4_16.png
    :width: 500px


保存本地
````````

点击“文件”菜单栏“保存本地”

.. image:: /images/mPython_new/mPython_4_17.png
    :width: 500px

选择保存xml或者py文件

.. image:: /images/mPython_new/mPython_4_18.png
    :width: 500px

点击保存

.. image:: /images/mPython_new/mPython_4_19.png
    :width: 500px


保存代码库
````````

点击“文件”菜单栏“保存代码库”

.. image:: /images/mPython_new/mPython_4_20.png
    :width: 500px

保存代码库需要先登录用户，关于用户登录请查看“注册/登录”
用户登录后，输入将保存的代码库名称，点击确定，即可保存成功

.. image:: /images/mPython_new/mPython_4_21.png
    :width: 500px

代码库保存成功后点击查看，即可查看保存的代码库

.. image:: /images/mPython_new/mPython_4_22.png
    :width: 500px


掌控板文件
````````

点击“掌控板文件”可查看掌控板内的文件

.. image:: /images/mPython_new/mPython_4_23.png
    :width: 500px

加载掌控板文件

.. image:: /images/mPython_new/mPython_4_24.png
    :width: 500px

掌控板内文件目录结构

.. image:: /images/mPython_new/mPython_4_25.png
    :width: 500px

点击“图形”按钮可回到图形化界面

.. image:: /images/mPython_new/mPython_4_26.png
    :width: 500px


教程菜单栏
-----------


教学视频
````````
点击“教程”菜单栏“教学视频”，即可查看软件使用的操作视频

.. image:: /images/mPython_new/mPython_4_27.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_28.png
    :width: 500px

帮助文档
````````
点击“教程”菜单栏“帮助文档”，跳转到：https://mpythonsoftware.readthedocs.io/
查看详细专业版说明文档


.. image:: /images/mPython_new/mPython_4_29.png
    :width: 500px

在线论坛
````````
点击“教程”菜单栏“在线论坛”，跳转到：https://www.labplus.cn/forum

.. image:: /images/mPython_new/mPython_4_30.png
    :width: 500px

精品课程
````````
点击“教程”菜单栏“精品课程”，即可查看海量的教学课程

.. image:: /images/mPython_new/mPython_4_31.png
    :width: 500px

点击选择查看其中的详细教程

.. image:: /images/mPython_new/mPython_4_32.png
    :width: 500px

教程的详细说明，点击加载程序即可加载相对应的代码

.. image:: /images/mPython_new/mPython_4_33.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_34.png
    :width: 500px


普通/教学模式
-----------


点击“教学”按钮图标 可以查看图形化指令对应的python代码
点击“普通”按钮图标 可以回到初始状态 

.. image:: /images/mPython_new/mPython_4_35.png
    :width: 500px


连接设备
-----------

点击设备连接区域 可看到已连接设备的端口号 点击连接端口号即可连上
点击断开连接则会断开软件与设备的连接
打开软件默认会选择第一个端口号连上
只有连接上掌控板后mPython才能对掌控板进行烧录固件及刷入代码等操作

.. image:: /images/mPython_new/mPython_4_36.png
    :width: 500px


文件命名
-----------

可以给当前程序文件命名

.. image:: /images/mPython_new/mPython_4_37.png
    :width: 500px


运行
-----------

代码写好后点击“运行”按钮即可看到对应的效果，代码将不会刷入到掌控板设备里面

.. image:: /images/mPython_new/mPython_4_38.png
    :width: 500px


刷入
-----------

代码写好后点击“刷入”按钮即可看到对应的效果，代码将会刷入到掌控板设备里面

.. image:: /images/mPython_new/mPython_4_39.png
    :width: 500px

.. Note::

  “运行”的代码脱机后即失效，“刷入”的代码脱机后再次连接电源仍有效

代码模式
-----------


点击“代码”按钮即可进入代码编辑模式，点击“图形”按钮即可回到图形模式

.. image:: /images/mPython_new/mPython_4_40.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_41.png
    :width: 500px

在代码模式中点击左侧图标进入文件管理界面，可看到电脑文件及掌控板文件，电脑文件可以导入到掌控板里面，掌控板文件也可以导出到电脑
加载掌控板文件

.. image:: /images/mPython_new/mPython_4_42.png
    :width: 500px

加载完成，界面如下：

.. image:: /images/mPython_new/mPython_4_43.png
    :width: 500px

文件管理
````````
代码模式中提供管理掌控板内文件的功能，可进行文件导入、导出、删除功能
导入：点击“导入”按钮选择电脑上的文件导入进掌控板，可选择多个文件一起导入

.. image:: /images/mPython_new/mPython_4_44.png
    :width: 500px

导出：点击掌控板文件中的复选框选择需要导出的文件，点击“导出”按钮

.. image:: /images/mPython_new/mPython_4_45.png
    :width: 500px

删除：点击掌控板文件中的复选框选择需要删除的文件，点击“删除”按钮，弹出提示是否删除文件 对话框，点击“确定”即可删除文件

.. image:: /images/mPython_new/mPython_4_46.png
    :width: 500px

电脑文件右键功能：选中文件点击右键可看到如下功能在编辑区打开、上传到板、上传并立即运行、删除文件、打开文件位置、刷新目录、新建文件、新建目录、重命名

.. image:: /images/mPython_new/mPython_4_47.png
    :width: 500px

掌控板文件右键功能：选中文件点击右键可看到如下功能运行程序、导出文件、浏览文件、删除文件、重命名

.. image:: /images/mPython_new/mPython_4_48.png
    :width: 500px

在空白区域点击右键，则出现：重新加载、刷新目录、新建文件、新建目录

.. image:: /images/mPython_new/mPython_4_49.png
    :width: 500px

代码编写
````````
在编辑区输入代码，如果输入的代码是Python的关键字或者是掌控板库函数，将会有自动补全提示，代码编写好了之后，点击运行按钮即可看到效果

.. image:: /images/mPython_new/mPython_4_50.png
    :width: 500px

右侧五个小按钮的功能从上到下分别是：查找代码、退回编译前的上一步、退回编译后的下一步、代码放大、代码缩小

.. image:: /images/mPython_new/mPython_4_51.png
    :width: 500px


设置菜单栏
-----------


烧录固件
````````

在“设置”里面选择“固件烧录”即可看到固件烧录界面
用户可以烧录系统自带固件也可以烧录用户自定义上传的固件

.. image:: /images/mPython_new/mPython_4_52.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_53.png
    :width: 500px

选择烧录掌控板官方固件，点击确定，开始烧录

.. image:: /images/mPython_new/mPython_4_54.png
    :width: 500px

烧录完成

.. image:: /images/mPython_new/mPython_4_55.png
    :width: 500px

.. Hint::

  如果烧录固件失败（或超过30秒仍然一直在恢复），请先尝试关闭杀毒软件，拔开数据线再连接，连接端口，或者选择信任esptool。

白天/夜间模式
````````

在“设置”里面选择“开/关”即可看到对应效果

白天模式

.. image:: /images/mPython_new/mPython_4_56.png
    :width: 500px

夜间模式

.. image:: /images/mPython_new/mPython_4_57.png
    :width: 500px

高级设置
````````

.. image:: /images/mPython_new/mPython_4_58.png
    :width: 500px

语言设置
^^^^^
点击高级设置后弹出对话框，即可看到第一个选项——语言设置。支持3种语言切换，简体中文、繁体中文、英语。

.. image:: /images/mPython_new/mPython_4_59.png
    :width: 500px

更换主控
^^^^^
点击高级设置后弹出对话框，即可看到第二个选项——更换主控，选择需要更换的主控即可

.. image:: /images/mPython_new/mPython_4_60.png
    :width: 500px

检查更新
^^^^^
点击高级设置后弹出对话框，即可看到第三个选项——检查更新。

已是最新版本界面：

.. image:: /images/mPython_new/mPython_4_61.png
    :width: 500px

发现新版本界面：点击安装即可完成更新

.. image:: /images/mPython_new/mPython_4_62.png
    :width: 500px

初始化库
^^^^^
点击高级设置后弹出对话框，即可看到第三个选项——初始化库。可恢复原始资源库

.. image:: /images/mPython_new/mPython_4_63.png
    :width: 500px


注册/登录
-----------

点击右上角登录按钮
如已注册账号，直接输入用户名密码进行登录。

.. image:: /images/mPython_new/mPython_4_64.png
    :width: 500px

如未注册过账号，点击“注册”按钮进行注册
填写相关信息完成注册。

.. image:: /images/mPython_new/mPython_4_65.png
    :width: 500px


寻求帮助
-----------

用户登录后点击用户名称=>“寻求帮助”，可看到他人的求助信息，点击可查看详细说明
也可以在输入框搜索问题，选择问题查看

.. image:: /images/mPython_new/mPython_4_66.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_67.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_68.png
    :width: 500px


代码库
-----------

代码库中可以看到自己保存的代码库也可以看到其他用户分享的代码

.. image:: /images/mPython_new/mPython_4_69.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_70.png
    :width: 500px

点击加载程序即可在编程区域看到相应的代码

.. image:: /images/mPython_new/mPython_4_71.png
    :width: 500px

仿真
-----------

编写好代码之后可以不用硬件，直接在右侧仿真舞台中点击播放图标，看到相应的仿真效果
如图所示，点击播放后按下A键和B键呈现对应的效果

.. image:: /images/mPython_new/mPython_4_72.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_73.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_74.png
    :width: 500px

刷新仿真

.. image:: /images/mPython_new/mPython_4_75.png
    :width: 500px

点击打开全屏模式

.. image:: /images/mPython_new/mPython_4_76.png
    :width: 500px

再点一次缩小

.. image:: /images/mPython_new/mPython_4_77.png
    :width: 500px


绘图
-----------

在数学分类下面拖出如图所示的指令

.. image:: /images/mPython_new/mPython_4_78.png
    :width: 500px

按照如下方式，拖出指令，点击运行或者刷入按钮，即可每隔100毫秒打印出光线值，

.. image:: /images/mPython_new/mPython_4_79.png
    :width: 500px


中断
-----------

程序运行的过程中可以点击“中断”使其终止运行

.. image:: /images/mPython_new/mPython_4_80.png
    :width: 500px


重置
-----------

点击重置重新开始运行板载文件

.. image:: /images/mPython_new/mPython_4_81.png
    :width: 500px


控制台
-----------

控制台可显示掌控板反馈的信息，也可以在控制台中输入指令去控制掌控板，必须要连上掌控板后才能进行相关操作
打印掌控板固件信息，如图所示：

.. image:: /images/mPython_new/mPython_4_82.png
    :width: 500px


左侧指令分类栏
-----------

图形化指令分类分为：
掌控板硬件相关指令（输入、显示、音乐、RGB灯、Wi-Fi、广播）
Python语法基础相关指令（循环、逻辑、数学、文本、变量）
高级指令（函数、列表、元组、集合、字典、引脚、微信小程序）
扩展指令

.. image:: /images/mPython_new/mPython_4_83.png
    :width: 500px

扩展功能介绍：点击“扩展”将会出现“添加”按钮，点击添加

.. image:: /images/mPython_new/mPython_4_84.png
    :width: 500px

出现如下界面，扩展分类“硬件扩展”，“应用扩展”
硬件扩展包含一些通用传感器以及tello无人机、yeelight灯等

.. image:: /images/mPython_new/mPython_4_85.png
    :width: 500px

应用扩展包含onenet物联网、科大讯飞语音接口、心知天气等

.. image:: /images/mPython_new/mPython_4_86.png
    :width: 500px

加载一个扩展

.. image:: /images/mPython_new/mPython_4_87.png
    :width: 500px

即可在左侧指令分类栏中看到加载的扩展分类

.. image:: /images/mPython_new/mPython_4_88.png
    :width: 500px

还可以自己定制专属积木

.. image:: /images/mPython_new/mPython_4_89.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_90.png
    :width: 500px

详细使用请看教程链接：https://www.labplus.cn/posts/5e0daa1561dfe9591ae8be12

代码库可以直接找到自己保存程序

.. image:: /images/mPython_new/mPython_4_91.png
    :width: 500px


图形化编程区域
-----------

.. image:: /images/mPython_new/mPython_4_92.png
    :width: 500px

编写一个程序

.. image:: /images/mPython_new/mPython_4_93.png
    :width: 500px

在指令积木块点击右键 复制、添加注释、折叠块、禁用块、删除块、帮助功能

.. image:: /images/mPython_new/mPython_4_94.png
    :width: 500px

在空白区域单击右键将会出现：撤销、重做、整理块、折叠块、展开块、删除块功能

.. image:: /images/mPython_new/mPython_4_95.png
    :width: 500px

右侧三个小按钮的功能从上到下分别是：将图形化指令居中并重置为默认大小、将图形化指令形状增大、将图形化指令形状减小

.. image:: /images/mPython_new/mPython_4_96.png
    :width: 500px

图形化指令形状增大

.. image:: /images/mPython_new/mPython_4_97.png
    :width: 500px

图形化指令形状减小

.. image:: /images/mPython_new/mPython_4_98.png
    :width: 500px

垃圾桶功能

.. image:: /images/mPython_new/mPython_4_99.png
    :width: 500px

将不用的图形化指令可以拖入垃圾桶内

.. image:: /images/mPython_new/mPython_4_100.png
    :width: 500px

点击垃圾桶可以看到垃圾桶内的代码

.. image:: /images/mPython_new/mPython_4_101.png
    :width: 500px


python3.6界面细节补充
-----------

Python3.6界面

.. image:: /images/mPython_new/mPython_4_102.png
    :width: 500px

左侧指令分类栏
````````

图形化指令分类分为：
Python3.6相关指令Python语法基础相关指令（循环、逻辑、数学、文本、变量）
高级指令（函数、列表、元组、集合、字典、引脚、微信小程序）
扩展功能介绍：点击“扩展”将会出现“添加”按钮，点击添加会出现以下界面
因为AI扩展都需要使用库文件，所以首次使用时需要安装

.. image:: /images/mPython_new/mPython_4_103.png
    :width: 500px

安装完成后再点击加载，可以在左侧指令分类栏查看，如图所示：

.. image:: /images/mPython_new/mPython_4_104.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_105.png
    :width: 500px

Python库管理
````````

点击打开Python库管理，可以选择推荐库或者PIP安装

.. image:: /images/mPython_new/mPython_4_106.png
    :width: 500px

推荐库可以直接选择软件所提供的库文件进行安装

.. image:: /images/mPython_new/mPython_4_107.png
    :width: 500px

也可以选择pip安装

.. image:: /images/mPython_new/mPython_4_108.png
    :width: 500px

推荐库或pip安装都可以自主选择安装源，默认为阿里云镜像安装源

.. image:: /images/mPython_new/mPython_4_109.png
    :width: 500px



终端
````````

选择终端可直接再控制台中输入代码，并显示内容，多用于调试代码和测试，如图所示：

.. image:: /images/mPython_new/mPython_4_110.png
    :width: 500px



调试控制台
````````

调试控制台可显示运行代码后反馈的信息，打印反馈信息，如图所示：

.. image:: /images/mPython_new/mPython_4_111.png
    :width: 500px



重启内核
````````

如果发生卡死可以点击重启内核

.. image:: /images/mPython_new/mPython_4_112.png
    :width: 500px



界面显示模式
````````

提供左右显示或者上下显示

.. image:: /images/mPython_new/mPython_4_113.png
    :width: 500px

.. image:: /images/mPython_new/mPython_4_114.png
    :width: 500px





